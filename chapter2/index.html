<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Random Walker </title>

  
  <link rel="stylesheet" type="text/css" href="/Honours-website-project/assets/cssStyle/generic.css">
  <link rel="stylesheet" href="/Honours-website-project/assets/cssStyle/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js" defer></script>
  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
</head>

<body>
 
  
<h1>Chapter 2</h1>
<h1>Random Walker</h1>
<hr>
<!-- Shared utility function for pausing and resuming any sketch -->
<script>  
  let pauseButtonToggle = function (button, sketch) {
    if (sketch.isLooping()) {
      button.innerText = "Play";
      sketch.noLoop();
    } else {
      button.innerText = "Pause";
      sketch.loop();
    }
  }
</script>


  <h2>2.1 Phenomena</h2>
<p>Attempting to capture the randomness we see around us in a finatry, computational world is of deep interest. This does not disclude motion simulation. From trying to parameterize microbial environments to understand motion of bacteria<sup>1</sup>, to creating a background scene of moths swarming around a light source in the night, the ability to produce randomness (or more precisely <em>pseudo-randomness</em>) is of vast use from the microscopic to the macroscopic world.</p>
<p>In motion phenomena, when one does not know of all the conditions that lead to a certain outcome, or one simply cannot model all the parameters - randomness is often introduced as a substitute. For example: modelling passing of genetics from parents. It is usually modelled as randomized selection of traits from either parent and changing the traits by slight perturbations - a substitute for evolution.</p>
<p>Therefore modelling and understanding how randomness is simulated is a crucial step in moving towards more complex natural phenomena. In this project, we will do this by trying to simulate different kinds of random walks - with varying underlying distributions and parameters.</p>
<h2>2.2 Modelling</h2>
<p>All things related to representation and motion will remain the same in terms of modelling for this chapter (and the remainder of the project). The only difference of a <em>deterministic</em> motion phenomena to a <em>stochastic</em> one, is that the position of our mover (or ‚Äòwalker‚Äô in this chapter) will be updated randomly - according to some probability distribution, as compared to external forces in the environment.<sup>2</sup> Therefore the <code>update()</code> method now will look like</p>
<pre><code>update(){  
    applied quantity = rand_function(p1, p2,...)   
    // Do calculations to go from applied quantity to position  
      
   new pos = ùëì( applied quantity [, old pos] )  
}
</code></pre>
<p>Here, rand_func is either a built-in function - in <strong>JS</strong>, the <strong>p5</strong> library<sup>3</sup> <sup>4</sup>, or a function made by ourselves  that samples from particular probability distribution. The applied quantity, is either magnitude or direction of the next step which can be modelled as a velocity vector but not always done so.</p>
<p><strong>Direction</strong>: then the angle is randomly generated and we derive velocity from the angle, with some set magnitude.<br>
<strong>Magnitude</strong>: then the x-coordinates and y-coordinates are randomly generated and added to the current position. Or randomly generate a scalar value to be multiplied to a given velocity</p>
<p>Of course, affecting one parameter of motion usually affects the other and a random walk with constant direction but varying magnitude is not useful (unless in 1D). Hence, picking x and y coords would also usually ensure the direction changes as well. Hence, it is through combining them with different distributions and/or varying them separately (like constant magnitude and varying direction) we create different simulations of a random walk.</p>
<h2>2.3 Implementation</h2>
<h3>2.3.1 Basic random walker</h3>
<p>The basic walker is implemented without vectors, and hence, just adding changes to the current position each frame is how we implement it. The change is precisely what our applied quantity is and the random distribution is, uniform over the unit-square.</p>
<p>The rand_func here is <code>random(a,b)</code> returns a uniformly distributed sample from the range <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></eq></p>
<pre tabindex="0" class="code-block"><code class="language-js"><span class="token comment">/* A 2D random walk performed by a point object on a screen (Random Walker)
The Probability distribution taken for the RW is Uniform(-1,1) - separately for the x-value and y-value*/</span>

<span class="token keyword">class</span> <span class="token class-name">Walker</span> <span class="token punctuation">{</span>
  <span class="token comment">//This is the class for the RW</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//we are placing the walker at the center of the screen</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Displays the walker at the given location</span>
    <span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Changes the location of the walker randomly within a unit square of the current location</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> w<span class="token punctuation">;</span>

<span class="token comment">//Global functions inbuilt in p5.js, setup() runs once and draw() runs repeatedly</span>
<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//Creating an instance 'w' of the of the class Walker</span>
  w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Walker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  w<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  w<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>And this is the output simulation</p>
<div class="simulation-container">
  <div id="sec1" class="interactive-sketch"></div>
  <div id="interactive-controls-sec1" class="interactive-panel"></div>
  <div class="control-buttons">
    <button onclick="pauseButtonToggle(this, sec1Sketch);">Play</button> 
    <button onclick="sec1Sketch.initializeSketch();">Reset</button>
  </div>
</div>
<p>Although the implementation is different from expected from the previous section and chapter, the ideas are the same.<br>
The main difference being the representation of our walker is a point - this is because it makes it easier to see the minute changes that happen to the walker each frame<br>
Secondly, the other change is that we do not refresh our background is not refreshed every frame, instead we let the walker's previous position be visible throughout the sketch - all we are doing is just colouring a pixel black if the walker has passed through it.  This is a similar adoption to how they are usually represented, although we will eventually switch to our usual motion representation (<em>‚Äòanimated‚Äô</em> style) as we won‚Äôt be trying to model random walks, but walkers that possess random movements.<sup>5</sup></p>


  <h3>2.3.2 Normal random walker</h3>
<p>Rand_func = <code>randomGaussian()</code> - normally distributed with,<br>
mean = current direction and SD = <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>œÄ</mi><mi mathvariant="normal">/</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">œÄ/8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mord">/8</span></span></span></span></eq></p>
<p>Applied parameter = direction (through angle of velocity)</p>
<pre tabindex="0" class="code-block"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WalkerNormal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token function">createVector</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> p5<span class="token punctuation">.</span>Vector<span class="token punctuation">.</span><span class="token function">random2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>    
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">D</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>                       
    <span class="token keyword">this</span><span class="token punctuation">.</span>velAngle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">heading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>col <span class="token operator">=</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>		<span class="token comment">// initialised with the grayscale value 100</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Displaying the step of the walker using a relatively thin line if step size is large</span>
    <span class="token comment">// strokeWeight(this.r/3);</span>
    <span class="token comment">// line(this.location.x - this.velocity.x, this.location.y - this.velocity.y,this.location.x, this.location.y);</span>
    <span class="token comment">//Displaying the walker as a circle of radius r</span>
    <span class="token function">strokeWeight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">circle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">vel_mag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>chk_edges<span class="token operator">=</span><span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>frameCount <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// randomGaussian() returns a random sample from a N(0,1) </span>
      <span class="token comment">// Therefore by performing scaling and translation of the distribution we have </span>
      <span class="token comment">// the stepAangle is hence distributed according to N(current direction,œÄ/8)</span>
			
      <span class="token keyword">this</span><span class="token punctuation">.</span>velAngle <span class="token operator">=</span> <span class="token function">randomGaussian</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">heading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
      <span class="token comment">// Changing color if change in direction is more than 2 S.Ds (œÄ/4 = 2œÉ)</span>
      <span class="token comment">// color is set by choosing random RGB values</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velAngle <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">heading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token constant">QUARTER_PI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        <span class="token keyword">this</span><span class="token punctuation">.</span>col <span class="token operator">=</span> <span class="token function">color</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token function">createVector</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velAngle<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velAngle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">mult</span><span class="token punctuation">(</span>vel_mag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>chk_edges<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">checkEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Function to check if the walker has crossed the canvas edges, if so - wrap around</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">></span> width<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">=</span> width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">></span> height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">windowResized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//Function to resize canvas when window is resized - in other words, resize our sketch when windown is resized</span>
  <span class="token function">resizeCanvas</span><span class="token punctuation">(</span>windowWidth<span class="token punctuation">,</span>windowHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> w<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createCanvas</span><span class="token punctuation">(</span>windowWidth<span class="token punctuation">,</span>windowHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
  w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WalkerNormal</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  w<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  w<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token comment">/*vel_mag*/</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token comment">/*chk_edgs*/</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span></code></pre>
<div class="simulation-container">
  <div id="sec2" class="interactive-sketch"></div>
  <div id="interactive-controls-sec2" class="interactive-panel"></div>
  <div class="control-buttons">
    <button onclick="pauseButtonToggle(this, sec2Sketch);">Play</button> 
    <button onclick="sec2Sketch.initializeSketch();">Reset</button>
  </div>
</div>
<p><strong>Extra functionality</strong>:</p>
<ul>
<li><code>checkEdges()</code> - works the same as <code>bounceEdges()</code> but instead of inverting the direction of motion, we now change the position of the object to the opposite edge.</li>
<li>Changing color of walker - this is just to show visually the <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>68</mn><mo>‚àí</mo><mn>95</mn><mo>‚àí</mo><mn>99.7</mn></mrow><annotation encoding="application/x-tex">68-95-99.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">68</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">95</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">99.7</span></span></span></span></eq> rule - to see the differences with other values of parameters in real time, <a href="https://openprocessing.org/sketch/2310776">view here</a></li>
</ul>


  <h3>2.3.3 Square-distribution random walker</h3>
<ul>
<li>Rand_func : <code>random()</code> - uniform distribution
<ul>
<li>Applied parameter = angle of velocity, range = <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>œÄ</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, œÄ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">œÄ</span><span class="mclose">]</span></span></span></span></eq> radians and</li>
</ul>
</li>
<li><code>randomSquared()</code> - custom distribution, using <em>accept-reject</em> method
<ul>
<li>Applied parameter = magnitude, range = <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>50</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 50]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">50</span><span class="mclose">]</span></span></span></span></eq> px</li>
</ul>
</li>
</ul>
<pre tabindex="0" class="code-block"><code class="language-js">  <span class="token keyword">class</span> <span class="token class-name">Walker</span><span class="token punctuation">{</span>                                    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token function">createVector</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> p5<span class="token punctuation">.</span>Vector<span class="token punctuation">.</span><span class="token function">random2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span> 
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">D</span> <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">2</span> 
      <span class="token keyword">this</span><span class="token punctuation">.</span>sa <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token constant">TWO_PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// sa = velAngle</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">stroke</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Displaying the step of the walker using a relatively thin line</span>
      <span class="token function">strokeWeight</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">line</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//Displaying the walker as a circle of radius r</span>
      <span class="token function">strokeWeight</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">circle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">vel_mag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>chk_edges<span class="token operator">=</span><span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>frameCount<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sa <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token constant">TWO_PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sa<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sa<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span><span class="token function">mult</span><span class="token punctuation">(</span>vel_mag<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>chk_edges<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">checkEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">></span> width<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>width <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">=</span> width<span class="token operator">+</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">></span> height<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>height <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">=</span> height <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">windowResized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">resizeCanvas</span><span class="token punctuation">(</span>windowWidth<span class="token punctuation">,</span>windowHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">randomSquared</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//Function to generate random numbers with a x^2 distribution - using accept reject method</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// random number to be accepted</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// qualifying random number</span>

    <span class="token comment">// P(y &lt; x^2) is the condition for acceptance</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>y<span class="token operator">></span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      x <span class="token operator">=</span> y<span class="token punctuation">;</span>
      y <span class="token operator">=</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> w<span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">createCanvas</span><span class="token punctuation">(</span>windowWidth<span class="token punctuation">,</span>windowHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">background</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Walker</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    w<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> vel_mag <span class="token operator">=</span><span class="token punctuation">(</span>frameCount<span class="token operator">%</span><span class="token number">180</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">randomSquared</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">;</span>
    w<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>vel_mag<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre>
<div class="simulation-container">
  <div id="sec3" class="interactive-sketch"></div>
  <div id="interactive-controls-sec3" class="interactive-panel"></div>
  <div class="control-buttons">
    <button onclick="pauseButtonToggle(this, sec3Sketch);">Play</button> 
    <button onclick="sec3Sketch.initializeSketch();">Reset</button>
  </div>
</div>

  <h3>2.3.4 A System of Random Walkers</h3>
<p>Here is a sneek peek simulation into how systems of same entity types can be made. Similar implementation is made in the <a href="../chapter5/#532-implementation-of-system-of-agents">5<sup>th</sup> chapter</a> and breifly explained there.</p>
<div class="simulation-container">
  <div id="sec4" class="interactive-sketch"></div>
  <div id="interactive-controls-sec4" class="interactive-panel"></div>
  <div class="control-buttons">
    <button onclick="pauseButtonToggle(this, sec4Sketch);">Play</button> 
    <button onclick="sec4Sketch.initializeSketch();">Reset</button>
  </div>
</div>
<p>Refer <a href="https://github.com/beeezal/Honours-project-codes/blob/ParticleSystem-codes/rWalker_system_basic/sketch.js">here</a> for the implementation code</p>
<p>P.S: Drag your mouse across the canvas to spawn new walkers.</p>
<h2>Notes</h2>
<ol>
<li>One of many possible <a href="../conclusion#autonomous-agents-in-a-microscopic-world">future works</a> to pursue</li>
<li>We could draw a correspondence between the two or have both at play in the same time - a varying wind force, is both an external Force and random</li>
<li>In programming languages we first simulate a uniform distribution using algorithms that iterate from a given value (taken from some state variable) using operations (addition, multiplication, mod, bit operators) with large numbers. In p5 it is done through a regular LCG (Linear Congruence Generator).</li>
<li>Then all other common distributions are sampled from the uniform distribution, using the <em>Universality of Uniform distribution</em> - which states that the cumulative distribution of any random variable is uniformly distributed.</li>
<li>The implementation differences occur because it was made during the earlier stages of my thesis. We will address and unify most of our motion related code at <a href="?tab=t.0#heading=h.8gepsg7cks0e">4.3.4</a> when we compare different types of random walkers.</li>
</ol>



<!-- Auto-load section scripts -->

  <script src="/Honours-website-project/assets/scripts/chap2_01.js"></script>

  <script src="/Honours-website-project/assets/scripts/chap2_02.js"></script>

  <script src="/Honours-website-project/assets/scripts/chap2_03.js"></script>

  <script src="/Honours-website-project/assets/scripts/chap2_04.js"></script>


  <nav class="chapter-navigation">
    <div class="prev-container">
    
      <a href="/Honours-website-project/chapter1/" class="prev-link">
        <span class="nav-arrow">‚Üê</span> Previous
      </a>
    
  </div>
  
  <div class="home-container">
    <a href="/Honours-website-project/" class="home-link">
      <span class="nav-icon">‚åÇ</span> Home
    </a>
  </div>
  
  <div class="next-container">
    
      <a href="/Honours-website-project/chapter3/" class="next-link">
        Next <span class="nav-arrow">‚Üí</span>
      </a>
    
  </div>
  </nav>

</body>
</html>